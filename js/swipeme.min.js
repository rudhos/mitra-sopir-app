/*!
 * SwipeMe
 * Author: Loz Calver
 *
 * Copyright 2013, MIT License
 */
!function(){"use strict";function a(a,d){b=a;var f;for(f in c)"undefined"!=typeof d[f]&&(c[f]=d[f]);return"string"==typeof c.direction&&(c.direction=[c.direction]),{swipe:function(a){a=a||"left",e.swipe(a)}}}var b,c={accessClasses:{left:"access-left",right:"access-right"},direction:["left","right"]},d={hasClass:function(a,b){var c=new RegExp("\\b"+b+"\\b","g");return null!==a.className.match(c)},addClass:function(a,b){var c=a.className||"",d=new RegExp("\\b"+b+"\\b","g");null===c.match(d)&&(a.className=(c+=" "+b).trim())},removeClass:function(a,b){var c=a.className||"",d=new RegExp("\\b"+b+"\\b","g");a.className=c.replace(d,"").trim()},parentUntilAttr:function(a,b){return a.getAttribute&&a.getAttribute(b)?a:a.parentNode?this.parentUntilAttr(a.parentNode,b):!1}},e={swipe:function(a){var e="left"===a?"right":"left";d.hasClass(b,c.accessClasses[a])?d.removeClass(b,c.accessClasses[a]):d.hasClass(b,c.accessClasses[e])||-1===c.direction.indexOf(e)||d.addClass(b,c.accessClasses[e])}},f={start:{},differences:{},isHorizontal:null,invalidTarget:!1,handleEvent:function(a){switch(a.type){case"touchstart":this.touchstart(a);break;case"touchmove":this.touchmove(a);break;case"touchend":this.touchend(a)}},touchstart:function(a){var b=a.touches[0];f.start={x:b.pageX,y:b.pageY},d.parentUntilAttr(b.target,"data-swipeme-ignore")&&(f.invalidTarget=!0)},touchmove:function(a){var b=a.touches[0];f.differences={x:b.pageX-f.start.x,y:b.pageY-f.start.y},null===f.isHorizontal&&(f.isHorizontal=Math.abs(f.differences.x)>Math.abs(f.differences.y)),f.isHorizontal&&!f.invalidTarget&&a.preventDefault()},touchend:function(){if(f.isHorizontal&&!f.invalidTarget){var a=f.differences.x>0?"right":"left";e.swipe(a)}f.isHorizontal=null,f.invalidTarget=!1,f.differences={}}};window.addEventListener&&(document.addEventListener("touchstart",f),document.addEventListener("touchmove",f),document.addEventListener("touchend",f)),window.SwipeMe=a,window.SwipeMe.extend=function(){return{container:b,options:c,utils:d,actions:e,events:f}}}();